(function(t){function e(e){for(var o,c,r=e[0],u=e[1],i=e[2],p=0,d=[];p<r.length;p++)c=r[p],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&d.push(s[c][0]),s[c]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);l&&l(e);while(d.length)d.shift()();return a.push.apply(a,i||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,r=1;r<n.length;r++){var u=n[r];0!==s[u]&&(o=!1)}o&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},s={app:0},a=[];function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=e,r=r.slice();for(var i=0;i<r.length;i++)e(r[i]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0951":function(t,e,n){},4399:function(t,e,n){"use strict";n("c8c9")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),s=n("6c02"),a={id:"app"},c={id:"nav"};function r(t,e,n,s,r,u){var i=Object(o["x"])("router-view");return Object(o["q"])(),Object(o["f"])("div",a,[Object(o["g"])("div",c,[r.authenticated?(Object(o["q"])(),Object(o["f"])("span",{key:0,onClick:e[0]||(e[0]=function(t){return u.logout()})},"Logout")):Object(o["e"])("",!0)]),Object(o["h"])(i,{onAuthenticated:u.setAuthenticated},null,8,["onAuthenticated"])])}n("ac1f"),n("5319");var u=n("bc3a"),i=n.n(u),l={name:"app",data:function(){return{authenticated:!1}},methods:{logout:function(){var t=this;i.a.get("http://localhost:5050/api/logout").then((function(e){200===e.status&&(t.authenticated=!1,t.$router.replace({path:"/login"}))})).catch((function(t){return console.log(t)}))},setAuthenticated:function(t){this.authenticated=t}},mounted:function(){var t=this;i.a.get("http://localhost:5050/api/login").then((function(e){200===e.status&&(t.authenticated=!0,t.$router.replace({path:"/home"}))})).catch((function(e){401===e.response.status?(t.authenticated=!1,t.$router.replace({path:"/login"})):console.log(e)}))}};n("8072");l.render=r;var p=l;Object(o["t"])("data-v-5a1f200b");var d={id:"login"},f=Object(o["g"])("h1",null,"Login",-1),h={key:0,id:"error"},g={key:1,id:"notification"};function b(t,e,n,s,a,c){return Object(o["q"])(),Object(o["f"])("div",d,[f,Object(o["D"])(Object(o["g"])("input",{type:"text",name:"username","onUpdate:modelValue":e[0]||(e[0]=function(t){return a.input.username=t}),placeholder:"Username"},null,512),[[o["B"],a.input.username]]),Object(o["D"])(Object(o["g"])("input",{type:"password",name:"password","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.input.password=t}),placeholder:"Password"},null,512),[[o["B"],a.input.password]]),Object(o["g"])("button",{type:"button",onClick:e[2]||(e[2]=function(t){return c.login()})},"Login"),Object(o["g"])("button",{type:"button",onClick:e[3]||(e[3]=function(t){return c.register()})},"Register"),a.error.status?(Object(o["q"])(),Object(o["f"])("div",h,[Object(o["g"])("span",null,Object(o["z"])(a.error.msg),1)])):Object(o["e"])("",!0),a.notification.status?(Object(o["q"])(),Object(o["f"])("div",g,[Object(o["g"])("span",null,Object(o["z"])(a.notification.msg),1)])):Object(o["e"])("",!0)])}Object(o["r"])();n("1344");var m={name:"Login",data:function(){return{input:{username:"",password:""},error:{status:!1,msg:null},notification:{status:!1,msg:null}}},methods:{login:function(){var t=this;this.clearNotifs(),i.a.post("http://localhost:5050/api/login",{username:this.input.username,password:this.input.password}).then((function(e){200===e.status&&(t.$emit("authenticated",!0),t.$router.replace({path:"/home"}))})).catch((function(e){404===e.response.status?(t.error.status=!0,t.error.msg="Username or password incorrect"):console.log(e)}))},register:function(){var t=this;this.clearNotifs(),i.a.post("http://localhost:5050/api/users",{username:this.input.username,password:this.input.password}).then((function(e){200===e.status&&(t.notification.status=!0,t.notification.msg="Account created successfully!")})).catch((function(e){t.error.status=!0,404==e.response.status?t.error.msg=e.response.data.msg:t.error.msg="An error occured."}))},clearNotifs:function(){this.error.status=!1,this.error.msg=null,this.notification.status=!1,this.notification.msg=null}}};n("74d2");m.render=b,m.__scopeId="data-v-5a1f200b";var O=m;Object(o["t"])("data-v-93502aa2");var j={id:"chat"},v=Object(o["g"])("div",{id:"chat-convos"},null,-1),w={id:"chat-window"},y={id:"chat-msg-pane"},k={id:"chat-type-area"};function _(t,e,n,s,a,c){var r=Object(o["x"])("chat-message");return Object(o["q"])(),Object(o["f"])("div",j,[v,Object(o["g"])("div",w,[Object(o["g"])("div",y,[(Object(o["q"])(!0),Object(o["f"])(o["a"],null,Object(o["w"])(a.messages,(function(e){return Object(o["q"])(),Object(o["d"])(r,{key:e.id,message:e,usersMap:t.usersMap},null,8,["message","usersMap"])})),128))]),Object(o["g"])("div",k,[Object(o["D"])(Object(o["g"])("textarea",{id:"text-input",name:"chat-msg","onUpdate:modelValue":e[0]||(e[0]=function(t){return a.userInput=t}),cols:"30",rows:"2"},null,512),[[o["B"],a.userInput]]),Object(o["g"])("button",{id:"text-submit",onClick:e[1]||(e[1]=function(t){return c.sendMessage()})},"Submit"),Object(o["g"])("button",{onClick:e[2]||(e[2]=function(e){return t.ping()})},"ping")])])])}Object(o["r"])();var M=n("8e27"),x=n.n(M);Object(o["t"])("data-v-9162481e");var q={id:"message"},I={class:"message-date"},C={class:"message-name"},P={class:"message-test"};function S(t,e,n,s,a,c){return Object(o["q"])(),Object(o["f"])("div",q,[Object(o["g"])("span",I,Object(o["z"])(n.message.created_at),1),Object(o["g"])("span",C,Object(o["z"])(n.message.author.username),1),Object(o["g"])("span",P,Object(o["z"])(n.message.content),1)])}Object(o["r"])();var A={name:"ChatMessage",props:["message","usersMap"]};n("4399");A.render=S,A.__scopeId="data-v-9162481e";var z=A,D={name:"Chat",components:{ChatMessage:z},data:function(){return{userData:null,messages:null,userInput:null,socket:x()()}},methods:{getMessages:function(){var t=this;i.a.get("http://localhost:5050/api/messages").then((function(e){t.messages=e.data})).catch((function(t){return console.log(t)}))},sendMessage:function(){var t=this,e={created_at:(new Date).toISOString(),text:this.userInput};i.a.post("http://localhost:5050/api/messages",e).then((function(){t.userInput=null})).catch((function(t){return console.log(t)}))}},mounted:function(){var t=this;this.getMessages(),this.socket.on("connect",(function(){console.log("established socket with server on connection id: ".concat(t.socket.id)),t.socket.emit("ping")})),this.socket.on("pong",(function(){console.log("Wow! they ponged me!!")})),this.socket.on("new_message",(function(e){t.messages.push(e)}))}};n("7c73b");D.render=_,D.__scopeId="data-v-93502aa2";var U=D,$=[{path:"/home",component:U},{path:"/login",component:O}],L=Object(s["a"])({history:Object(s["b"])(),routes:$});Object(o["c"])(p).use(L).mount("#app")},5824:function(t,e,n){},"74d2":function(t,e,n){"use strict";n("5824")},"7c73b":function(t,e,n){"use strict";n("c5c5")},8072:function(t,e,n){"use strict";n("0951")},c5c5:function(t,e,n){},c8c9:function(t,e,n){}});
//# sourceMappingURL=app.2c0cb547.js.map